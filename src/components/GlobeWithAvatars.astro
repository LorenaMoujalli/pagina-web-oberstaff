---
const avatars = [
  "/avatars/a1.png",
  "/avatars/a2.png",
  "/avatars/a3.png",
  "/avatars/a4.png",
  "/avatars/a5.png",
  "/avatars/a6.png",
  "/avatars/a7.png",
  "/avatars/a8.png"
];
---

<style>
  .globe-wrapper {
    position: relative;
    width: 480px;
    height: 480px;
    margin: auto;
  }

  lottie-player {
    width: 100%;
    height: 100%;
  }

  .avatar {
    position: absolute;
    width: 38px;
    height: 38px;
    border-radius: 50%;
    background-size: cover;
    background-position: center;
    animation: float 3s infinite ease-in-out;
    opacity: 0;
    animation-delay: var(--delay);
    animation-fill-mode: forwards;
    z-index: 10;
    
    /* ðŸ”‘ FUSIÃ“N: mix-blend-mode: soft-light hace que los colores se mezclen sutilmente. */
    mix-blend-mode: soft-light; 
    
    /* Opcional: Esto ayuda a que el borde del avatar no sea tan duro */
    filter: brightness(1.2);
  }

  /* Posiciones aproximadas sobre el globo */
  .p1 { top: 28%; left: 48%; }
  .p2 { top: 42%; left: 18%; }
  .p3 { top: 62%; left: 72%; }
  .p4 { top: 32%; left: 75%; }
  .p5 { top: 70%; left: 35%; }
  .p6 { top: 55%; left: 52%; }
  .p7 { top: 40%; left: 64%; }
  .p8 { top: 76%; left: 55%; }

  /* AnimaciÃ³n flotante: Reducimos la opacidad mÃ¡xima para un efecto fantasmal/de datos */
  @keyframes float {
    0% { transform: translateY(0); opacity: 0; }
    20% { opacity: 0.7; } /* Menos de 1 para un look semi-transparente */
    50% { transform: translateY(-10px); opacity: 0.75; } /* Opacidad mÃ¡xima ligeramente mayor en el pico */
    100% { transform: translateY(0); opacity: 0.6; } /* Opacidad de reposo */
  }

  @media (max-width: 600px) {
    .globe-wrapper {
      width: 300px;
      height: 300px;
    }
    .avatar {
      width: 28px;
      height: 28px;
    }
  }
</style>

<div class="globe-wrapper">
  <lottie-player
    src="/animations/Globe.json"
    autoplay
    loop
    speed="1"
  ></lottie-player>

  {avatars.map((src, i) => (
    <div
      class={`avatar p${i + 1}`}
      style={`background-image: url('${src}'); --delay: ${i * 0.3}s`}
    ></div>
  ))}
</div>